$(function(){

    $(".cctv-close").on("click",function(){

        $("#CCTVplayer").html("");

    });

    $("#CCTV1").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งหน้าอาคาร45");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");


        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjEtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });

    $("#CCTV2").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งทางเข้าบริเวณอาคาร37");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjItLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });

    $("#CCTV3").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร38");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjMtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });

    $("#CCTV4").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร39");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjQtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });

    $("#CCTV5").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร65");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjUtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });


    $("#CCTV6").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร66");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjYtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    }); 


    $("#CCTV7").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร43");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjctLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });

    $("#CCTV8").on("click",function(){

        $("#CCTVplayer").html("");

        $("#CCTVModal").modal("show");
        $("#CCTVModal").find("#largeModalLabel").text("กล้องวงจรปิดตำแหน่งอาคาร44");
        $("#CCTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");

        ////////////
     
    var player = new Clappr.Player({
        source: atob('aHR0cHM6Ly9hcHAuc2Frb3JuY2FibGUuY29tL2hscy9jY3R2MjgtLm0zdTg='),
        preload: "none",
        width: '50%',
        height: '50%',
        parentId: "#CCTVplayer"
    });


        ////////////

    });



    $("#PreviewTV").on("click",function(){

    $("#PreviewTVplayer").html("");

    $("#PreviewTVModal").modal("show");
    $("#PreviewTVModal").find("#largeModalLabel").text("ช่องรายการตัวอย่างและข่าวสาคร");
    $("#PreviewTVModal").find("#midModalLabel").text("แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");
 
   	$.post("https://pack1.sakorncable.com/index.php/mobile_app/getDataPreviewChannel",{},function(data,status){

   		var object = JSON.parse(data);
   		
   		$("#PreviewTVModal").find("#largeModalLabel").text("ช่องรายการตัวอย่างและข่าวสาคร");
    	$("#PreviewTVModal").find("#midModalLabel").text(object.ChannelDesc+"แตะสองครั้งที่วีดีโอเพื่อเปิดเต็มจอ");
 
        ////////////
	       
	    var player = new Clappr.Player({
		    source: atob( object.ChannelURL ),
		    parentId: "#PreviewTVplayer",
		    preload: "none",
	        width: '50%',
	        height: '50%',
		    plugins: {'playback': [RTMP]},
		    rtmpConfig: {
		        swfPath: 'https://pack1.sakorncable.com/assets/clappr-rtmp/dist/assets/RTMP.swf',
		        scaling:'stretch',
		        playbackType: 'live',
		        bufferTime: 1,
		        startLevel: 0,
		        switchRules: {
		            "SufficientBandwidthRule": {
		                "bandwidthSafetyMultiple": 1.15,
		                "minDroppedFps": 2
		            },
		            "InsufficientBufferRule": {
		                "minBufferLength": 2
		            },
		            "DroppedFramesRule": {
		                "downSwitchByOne": 10,
		                "downSwitchByTwo": 20,
		                "downSwitchToZero": 24
		            },
		            "InsufficientBandwidthRule": {
		                "bitrateMultiplier": 1.15
		            }
		        }
		    },
		});


        ////////////

   	});


    });
 


});